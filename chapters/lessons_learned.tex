
\sektion{Lessons Learned}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Tooling infrastructure grows}
\begin{itemize}
	\item Mostly same as for Java
	\item Build system support (gradle with kotlin coming!)
	\item Static code analysis tools missing
	\item Syntax highlighting mostly missing
\end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Kotlin is a great language}
\begin{itemize}
	\item Null handling is a MUST!
	\item Extension methods (for better auto completion)
	\item (Constructor) Properties
	\item Lambdas done properly
	\item (Local) Type inference
	\item Named and default arguments
	\item Compact syntax: No semicolon, new
	\item Data classes
\end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Kotlin is a great language \ldots but!}
\begin{itemize}
	\item Data classes are still somehow restricted in their usage (v1.1)
	\item Paradigm shift of final-by-default clashes with existing libs
	\item Requires developers to be more disciplined
	\begin{itemize}
		\item Several classes in one (big) file gets common
		\item Explicit type declaration for documentation
		\item Overuse of single-expression functions
		\item Overuse of functionals like \texttt{apply\{\}}
	\end{itemize}
\end{itemize}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}[fragile] \frametitle{Apply -- Who is this?}
\begin{lstlisting}
class MainPanel : JPanel() {
  init {
    val subPanel = JPanel()
    subPanel.background = Color.RED
    add(subPanel)
  }
}
\end{lstlisting}
\pause
We can refactor this to get rid of the \textbf{variable reference}.
\end{frame}


\begin{frame}[fragile] \frametitle{Apply -- This is not this anymore!}
\begin{lstlisting}
class MainPanel : JPanel() {
  init {
    JPanel().apply {
      background = Color.RED
      add(this)
    }
  }
}
\end{lstlisting}
\pause
\footnotesize{\texttt{\textcolor{red}{IllegalArgumentException: adding container's parent to itself}}}
\pause
\begin{itemize}
	\item The solution is to use: \texttt{this\textcolor{someBlue}{@MainPanel}.add(this)}
	\item But what happens if there are \textbf{two nested} \texttt{JPanel}s?!
	\item PS: Kotlin 1.1 will come with a new function called \texttt{also()}
\begin{lstlisting}
JPanel().also {
  this.add(it)
}
\end{lstlisting}

\end{itemize}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}\frametitle{Links}

\begin{itemize}
	\item Visit the website: \\ \href{https://github.com/christophpickl/gadsu}{https://github.com/christophpickl/gadsu}
	\item \LaTeX~sources of the slides: \\ \href{https://github.com/christophpickl/gadsu_meetup}{https://github.com/christophpickl/gadsu\_meetup}
	\item Kotlin-Vienna Usergroup: \\ \href{https://www.meetup.com/Kotlin-Vienna}{https://www.meetup.com/Kotlin-Vienna}
	
\end{itemize}

\end{frame}



